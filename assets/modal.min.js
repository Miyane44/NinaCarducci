let modal=null;const gallery=document.querySelector(".gallery"),galleryItems=document.querySelectorAll(".gallery-item");galleryItems.forEach((e=>e.addEventListener("click",openModal)));var tagsCollection=[];let activeTag="all";const options={columns:{xs:1,sm:2,md:3,lg:3,xl:3},lightBox:!0,lightboxId:null,showTags:!0,tagsPosition:"top",navigation:!0};function createModal(){const e=document.createElement("div");e.className="modal fade",e.id="myAwesomeLightbox",e.tabIndex=-1,e.role="dialog",e.ariaHidden="true";e.innerHTML='<div class="modal-dialog" role="document">\n    <div class="modal-content js-modal-stop">\n    <div class="modal-body">\n    <div class="mg-prev" style="cursor:pointer;position:absolute;top:50%;left:-15px;background:white;">&lt;</div>\n    <img class="lightboxImage img-fluid" alt="Contenu de l\'image affichÃ©e dans la modale au clic">\n    <div class="mg-next" style="cursor:pointer;position:absolute;top:50%;right:-15px;background:white;}">&gt;</div>\n    </div>\n    </div>\n    </div>',gallery.appendChild(e)}function createRowWrapper(){const e=document.createElement("div");"gallery-items-row row"!==gallery.firstChild.className&&(e.className="gallery-items-row row",gallery.appendChild(e))}function createTagsCollection(e){var t=e.getAttribute("data-gallery-tag");options.showTags&&void 0!==t&&-1===tagsCollection.indexOf(t)&&tagsCollection.push(t)}createModal(),createRowWrapper(),galleryItems.forEach((e=>createTagsCollection(e))),galleryItems.forEach((e=>responsiveImageItem(e))),galleryItems.forEach((e=>moveItemInRowWrapper(e))),galleryItems.forEach((e=>wrapItemInColumn(e,options.columns))),displayShowItemTags();const filters=document.querySelectorAll(".nav-link");function responsiveImageItem(e){"IMG"===e.tagName&&e.classList.add("img-fluid")}function moveItemInRowWrapper(e){document.querySelector(".gallery-items-row").appendChild(e)}function wrapItemInColumn(e,t){const l=document.querySelector(".gallery-items-row"),a=document.createElement("div");if(t.constructor===Number){var o=Math.ceil(12/t);a.className="item-column mb-4 col-"+o,a.appendChild(e),l.appendChild(a)}else if(t.constructor===Object){var s="";t.xs&&(s+="col-"+(o=Math.ceil(12/t.xs))+" "),t.sm&&(s+="col-sm-"+(o=Math.ceil(12/t.sm))+" "),t.md&&(s+="col-md-"+(o=Math.ceil(12/t.md))+" "),t.lg&&(s+="col-lg-"+(o=Math.ceil(12/t.lg))+" "),t.xl&&(s+="col-xl-"+(o=Math.ceil(12/t.xl))),a.className="item-column mb-4 "+s,a.appendChild(e),l.appendChild(a)}else console.error(`Columns should be defined as numbers or objects. ${typeof t} is not supported.`)}function displayShowItemTags(){options.showTags&&showItemTags(gallery,options.tagsPosition,tagsCollection)}function showItemTags(e,t,l){var a='<li class="nav-item"><span class="nav-link active-tag"  data-images-toggle="all">Tous</span></li>';l.forEach((function(e){a+=`<li class="nav-item">\n        <span class="nav-link clickable"  data-images-toggle="${e}">${e}</span></li>`}));var o=document.createElement("ul");o.className="my-4 tags-bar nav nav-pills",o.innerHTML=a,"bottom"===t?e.appendChild(o):"top"===t?e.prepend(o):console.error(`Unknown tags position: ${t}`)}function openModal(e){e.preventDefault(),modal=document.querySelector(".modal"),modal.removeAttribute("aria-hidden"),modal.setAttribute("aria-modal","true"),modal.classList.add("show"),modal.style.display="block",modal.addEventListener("click",closeModal),modal.querySelector(".js-modal-stop").addEventListener("click",stopPropagation);document.querySelector(".lightboxImage").src=e.srcElement.src}filters.forEach((e=>e.addEventListener("click",(function(){if(e.classList.contains("active-tag"))return;const t=document.querySelector(".active-tag");t.classList.remove("active-tag"),t.classList.add("clickable"),e.classList.add("active-tag"),e.classList.remove("clickable");var l=e.getAttribute("data-images-toggle");galleryItems.forEach((function(e){const t=e.parentNode;t.style.display="none",("all"===l||e.getAttribute("data-gallery-tag")===l)&&(t.style.display=null)}))}))));const previous=document.querySelectorAll(".mg-prev");previous.forEach((e=>e.addEventListener("click",(function(){let e=[],t=document.querySelector(".active-tag").getAttribute("data-images-toggle");"all"===t?galleryItems.forEach((t=>e.push(t.src))):galleryItems.forEach((function(l){l.getAttribute("data-gallery-tag")===t&&e.push(l.src)}));const l=document.querySelector(".lightboxImage").getAttribute("src"),a=e.indexOf(l),o=e[a-1]||e[e.length-1];document.querySelector(".lightboxImage").src=o}))));const next=document.querySelectorAll(".mg-next");function closeModal(e){null!==modal&&(e.preventDefault(),window.setTimeout((function(){modal.style.display="none",modal=null}),500),modal.setAttribute("aria-hidden","true"),modal.removeAttribute("aria-modal"),modal.removeEventListener("click",closeModal))}function stopPropagation(e){e.stopPropagation()}next.forEach((e=>e.addEventListener("click",(function(){let e=[],t=document.querySelector(".active-tag").getAttribute("data-images-toggle");"all"===t?galleryItems.forEach((t=>e.push(t.src))):galleryItems.forEach((function(l){l.getAttribute("data-gallery-tag")===t&&e.push(l.src)}));const l=document.querySelector(".lightboxImage").getAttribute("src"),a=e.indexOf(l),o=e[a+1]||e[0];document.querySelector(".lightboxImage").src=o}))));